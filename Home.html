<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&display=swap" rel="stylesheet">
  <title>Home</title>

  <style>
  body {
    font-family: 'Prompt', sans-serif;
    margin: 0;
    background: #1f2230;
  }

  /* ---------------- NAVBAR ---------------- */
  .navbar {
    background: #262b3e;
    padding: 14px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 999;
  }
    .nav-left { display: flex; gap: 20px; }
    .nav-right { margin-left: auto; }

    .nav-item {
      padding: 10px 18px; border-radius: 6px; cursor: pointer;
      text-decoration: none; font-weight: bold; transition: 0.25s;
    }

    /* HOME BUTTON */
    .btn-home { background: #34efe6; color: black; }
    .btn-home:hover { background: #292f3f; color: white; }

    /* LEFT MENU */
    .btn-left { color: white; }
    .btn-left:hover { background: #ffffff22; }

    /* RIGHT BUTTON */
    .btn-right {
      background: #373d4d; color: white; display: flex;
      align-items: center; gap: 10px;
    }
    .btn-right:hover { background: white; color: #373d4d; }
    .profile-pic {
      width: 32px; height: 32px; border-radius: 50%; object-fit: cover;
    }

    /* BANNER */
    .banner-slider { width: 100%; height: 350px; position: relative; overflow: hidden; }
    .banner-slider img { width: 100%; height: 350px; object-fit: cover; position: absolute; opacity: 0; transition: opacity 1s; }
    .banner-arrow {
      position: absolute; top: 50%; transform: translateY(-50%);
      font-size: 40px; color: white; cursor: pointer; user-select: none;
    }
    .arrow-left { left: 20px; }
    .arrow-right { right: 20px; }

    /* ICON SECTION */
    .icon-section { text-align: center; margin: 40px 0; display: flex; justify-content: center; gap: 60px; color: white;}
    .icon-box { cursor: pointer; width: 150px; }
    .icon-box img { width: 120px; height: 120px; border-radius: 50%; }
    .icon-label { margin-top: 10px; font-size: 18px; }

    /* BOXES */
    .section-box { margin: 60px auto; width: 80%; padding: 40px; background: #06162b; border-radius: 12px; color: white; }
    .section-title { font-size: 28px; margin-bottom: 10px; }
    .underline { width: 80px; height: 3px; background: white; margin-bottom: 20px; }

    .box-flex { display: flex; gap: 30px; align-items: center; }
    .box-flex img { width: 45%; border-radius: 10px; }
    .box-flex video { width: 45%; border-radius: 10px; }
.rules-text {
  line-height: 1.7;
  font-size: 15px;
  color: #e8fefe;
  margin-bottom: 24px;
}

.rules-text h3 {
  color: #34efe6;
  margin-bottom: 8px;
}

.rules-text ol {
  padding-left: 20px;
}
.zoom-box {
  position: relative;
  width: 45%;
  overflow: hidden;
  border-radius: 10px;
}

.zoom-box img {
  width: 100%;
  transition: transform 0.3s ease;
}

.zoom-box:hover img {
  transform: scale(1.15);
}

/* กรอบแว่นขยาย */
.zoom-frame {
  position: absolute;
  top: 20%;
  left: 20%;
  width: 160px;
  height: 160px;
  border: 2px solid rgba(52,239,230,0.9);
  box-shadow: 0 0 15px rgba(52,239,230,0.8);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s;
}

.zoom-box:hover .zoom-frame {
  opacity: 1;
}
/* ===== IMAGE POPUP ===== */
.image-popup {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* กล่อง popup */
.popup-content {
  position: relative;
  max-width: 90%;
  max-height: 90%;
  overflow-y: auto;           /* ⭐ scrollbar */
  background: #000;
  padding: 20px;
  border-radius: 12px;
}

/* รูปใน popup */
.popup-content img {
  width: 100%;
  height: auto;
  display: block;
}

/* ปุ่มปิด */
.close-btn {
  position: sticky;
  top: 0;
  float: right;
  font-size: 32px;
  color: white;
  cursor: pointer;
  margin-bottom: 10px;
}
/* ===== POPUP TITLE ===== */
.popup-title {
  font-size: 22px;
  font-weight: bold;
  color: #34efe6;
  text-align: center;
  margin-bottom: 16px;
}

/* ===== ZOOM IN POPUP ===== */
.popup-zoom-box {
  position: relative;
  overflow: hidden;
}

.popup-zoom-box img {
  width: 100%;
  display: block;
}

/* วงแว่นขยาย */
.popup-zoom-circle {
  position: absolute;
  width: 180px;
  height: 180px;
  border-radius: 50%;
  border: 2px solid rgba(52,239,230,0.9);
  box-shadow: 0 0 18px rgba(52,239,230,0.9);
  pointer-events: none;
  opacity: 0;
  background-repeat: no-repeat;
  background-size: 200% 200%;
}
.popup-zoom-circle {
  pointer-events: none;
  background-repeat: no-repeat;
}
/* ===== HELP SUPPORT ===== */
.help-support-text {
  font-size: 16px;
  margin-bottom: 20px;
  color: #e8fefe;
}

.support-links {
  display: flex;
  gap: 30px;
  flex-wrap: wrap;
}

.support-card {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 20px;
  background: #0b203f;
  border-radius: 10px;
  text-decoration: none;
  color: white;
  transition: 0.3s;
  box-shadow: 0 0 0 rgba(52,239,230,0);
}

.support-card img {
  width: 42px;
  height: 42px;
}

.support-card span {
  font-size: 16px;
  font-weight: 500;
}

.support-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 0 18px rgba(52,239,230,0.6);
  background: #102a52;
}
/* ===== ICON CIRCLE MENU ===== */
.icon-section {
  text-align: center;
  margin: 40px 0;
  display: flex;
  justify-content: center;
  gap: 60px;
  color: white;
}

.icon-box {
  cursor: pointer;
  width: 150px;
  height: 150px;
  border-radius: 50%;
  border: 2px solid #34efe6;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  transition: 0.35s ease;
  box-shadow: 0 0 12px rgba(52,239,230,0.4);
}

.icon-label {
  font-size: 18px;
  font-weight: 500;
  line-height: 1.3;
  z-index: 1;
}

/* glow animation */
.icon-box::before {
  content: "";
  position: absolute;
  inset: -6px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(52,239,230,0.45),
    transparent 65%
  );
  opacity: 0;
  transition: 0.35s;
}

.icon-box:hover::before {
  opacity: 1;
}

.icon-box:hover {
  transform: scale(1.08);
  box-shadow: 0 0 28px #06162b;
}
/* ===== POPUP SCROLLBAR (เฉพาะ popup) ===== */
.popup-content::-webkit-scrollbar {
  width: 10px;
}

.popup-content::-webkit-scrollbar-track {
  background: #111;
  border-radius: 10px;
}

.popup-content::-webkit-scrollbar-thumb {
  background: linear-gradient(
    180deg,
    #34efe6,
    #1fa8a2
  );
  border-radius: 10px;
}

.popup-content::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    180deg,
    #5ffff5,
    #34efe6
  );
}

/* Firefox */
.popup-content {
  scrollbar-width: thin;
  scrollbar-color: #34efe6 #111;
}
/* วงกลมแว่นขยาย */
#zoomCircle {
  position: absolute;
  width: 240px;          /* ⬅️ ใหญ่ขึ้น */
  height: 240px;         /* ⬅️ ใหญ่ขึ้น */
  border-radius: 50%;
  border: 3px solid rgba(52, 239, 230, 0.9);
  box-shadow:
    0 0 20px rgba(52,239,230,0.9),
    inset 0 0 10px rgba(0,0,0,0.5);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
  background-repeat: no-repeat;
}
/* ===== HOWTO IMAGE TOOLTIP ===== */
.howto-hover {
  position: relative;
  width: 45%;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
}

.howto-hover img {
  width: 100%;
  display: block;
  border-radius: 10px;
}

.howto-tooltip {
  position: absolute;
  bottom: 14px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(6, 22, 43, 0.9);
  color: #34efe6;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 500;
  opacity: 0;
  pointer-events: none;
  transition: 0.25s ease;
  box-shadow: 0 0 14px rgba(52,239,230,0.6);
}

.howto-hover:hover .howto-tooltip {
  opacity: 1;
}
/* ===== RULES IMAGE ROW ===== */
.rules-image-row {
  display: flex;
  gap: 20px;
  margin-top: 20px;
}

.rules-image-row img {
  width: 50%;
  border-radius: 10px;
  object-fit: cover;
}
/* overlay มืด */
.howto-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: 0.3s ease;
}

/* ข้อความ */
.howto-overlay span {
  color: #fcffff;
  font-size: 20px;
  font-weight: 600;
  padding: 14px 28px;
  border-radius: 30px;

}

/* hover */
.howto-hover:hover .howto-overlay {
  opacity: 1;
}
/* ===== RULES MAGNIFIER ===== */
.rules-zoom-box {
  position: relative;
  width: 50%;
  overflow: hidden;
  border-radius: 10px;
}

.rules-zoom-box img {
  width: 100%;
  display: block;
}

/* วงแว่น */
.rules-zoom-circle {
  position: absolute;
  width: 220px;
  height: 220px;
  border-radius: 50%;
  border: 3px solid rgba(52,239,230,0.9);
  box-shadow: 0 0 20px rgba(52,239,230,0.9);
  pointer-events: none;
  opacity: 0;
  background-repeat: no-repeat;
}
.howto-hover {
  cursor: pointer;
}

  </style>
</head>
<body>

  <!-- NAVBAR -->
  <div class="navbar">
    <div class="nav-left">
      <a class="nav-item btn-home" href="Home.html">Home</a>
      <a class="nav-item btn-left" href="Contest.html">Contest</a>
      <a class="nav-item btn-left" href="Votes.html">Votes</a>
      <a class="nav-item btn-left" href="Contest results.html">Contest results</a>
    </div>

    <div class="nav-right" id="navRight"></div>
  </div>

  <!-- BANNER SLIDER -->
  <div class="banner-slider" id="bannerSlider">
    <img src="images/Home/TestBanner.png" class="banner-img" />
    <img src="images/Home/TestBanner.png" class="banner-img" />
    <img src="images/Home/TestBanner.png" class="banner-img" />

    <div class="banner-arrow arrow-left" onclick="prevBanner()">‹</div>
    <div class="banner-arrow arrow-right" onclick="nextBanner()">›</div>
  </div>

  <!-- ICON SECTION -->
<!-- ICON SECTION -->
<div class="icon-section">
  <div class="icon-box" onclick="scrollToBox('BoxHowtoapply')">
    <div class="icon-label">How to Apply</div>
  </div>

  <div class="icon-box" onclick="scrollToBox('BoxRules')">
    <div class="icon-label">Rules</div>
  </div>

  <div class="icon-box" onclick="scrollToBox('BoxHelpSupport')">
    <div class="icon-label">Help Support</div>
  </div>
</div>


  <!-- HOW TO APPLY -->
<div class="section-box" id="BoxHowtoapply">
  <div class="section-title">How to apply</div>
  <div class="underline"></div>

  <div class="box-flex">
    <div class="howto-hover" onclick="openImagePopup()">
      <img
        src="images/Home/Howtoapply.png"
        id="howtoImg"
      />
      <div class="howto-overlay">
        <span>ดูวิธีการสมัคร</span>
      </div>
    </div>

    <video
      src="images/Home/VDOHowtoapply.mp4"
      controls
    ></video>
  </div>
</div>

<!-- IMAGE POPUP -->
<div id="imagePopup" class="image-popup" onclick="closeImagePopup()">
<div class="popup-content" onclick="event.stopPropagation()">
  <span class="close-btn" onclick="closeImagePopup()">×</span>

  <!-- หัวข้อ -->
  <div class="popup-title">ดูวิธีการสมัคร</div>

  <!-- กล่องรูปสำหรับแว่นขยาย -->
  <div class="popup-zoom-box" id="popupZoomBox">
    <img
      src="images/Home/Howtoapply.png"
      id="popupImage"
    />
    <div class="popup-zoom-circle" id="zoomCircle"></div>
  </div>
</div>

</div>

  <!-- RULES -->
  <div class="section-box" id="BoxRules">
    <div class="section-title">Rules</div>
    <div class="underline"></div>
<div class="rules-text">
  <h3>กติกาการสมัครเข้าประกวด</h3>
  <p>
    ผู้สมัครต้องได้รับการ Approve จาก Admin จึงจะสามารถเข้าประกวดได้ โดย Admin จะพิจารณาดังนี้
  </p>
  <ol>
    <li>รูปที่เข้าประกวดต้องมาจากการ Generate AI</li>
    <li>ผู้เข้าประกวด ต้องชำระเงินและแนบสลิปทุกครั้ง</li>
    <li>สลิปที่แนบต้องชัดเจน และไม่ใช่สลิปปลอม หรือสลิปเก่าที่เคยทำรายการ</li>
    <li>จำนวนเงินในสลิปต้องเป็นจำนวนเงินเดียวกันกับค่าสมัคร</li>
  </ol>

  <h3 style="margin-top:24px;">กติกาการโหวต</h3>
  <ol>
    <li>ผู้ที่ลงสมัคร Concept นั้นเท่านั้นที่จะสามารถโหวต Concept นั้นได้</li>
    <li>ผู้สมัคร 1 คนมีสิทธิ์โหวตได้ 1 โหวตใน 1 Concept นั้นๆ</li>
    <li>ไม่สามารถโหวตผลงานของตนเองได้</li>
  </ol>
</div>


<div class="rules-image-row">
  <div class="rules-zoom-box">
    <img src="images/Home/Rules1.png" />
    <div class="rules-zoom-circle"></div>
  </div>

  <div class="rules-zoom-box">
    <img src="images/Home/Rules2.png" />
    <div class="rules-zoom-circle"></div>
  </div>
</div>

  </div>

  <!-- HELP SUPPORT -->
<!-- HELP SUPPORT -->
<div class="section-box" id="BoxHelpSupport">
  <div class="section-title">Help Support</div>
  <div class="underline"></div>

  <div class="help-support-text">
    หากมีปัญหาหรือข้อสงสัย สามารถ Inbox ติดต่อทีมงานได้ที่
  </div>

  <div class="support-links">
    <!-- Facebook -->
    <a
      href="https://www.facebook.com/profile.php?id=61585001933657&locale=th_TH"
      target="_blank"
      class="support-card"
    >
      <img src="images/Home/logoFB.png" alt="Facebook">
      <span>Gen AI Cypher (Facebook)</span>
    </a>

    <!-- TikTok -->
    <a
      href="https://www.tiktok.com/@gen.ai.cypher?_r=1&_t=ZS-92GRRVt3t25"
      target="_blank"
      class="support-card"
    >
      <img src="images/Home/logoTT.png" alt="TikTok">
      <span>Gen AI Cypher (TikTok)</span>
    </a>
  </div>
</div>


  <script>
    /* BANNER LOGIC */
    let currentBanner = 0;
    const banners = document.querySelectorAll('.banner-img');

    function showBanner(i) {
      banners.forEach((b, index) => b.style.opacity = index === i ? 1 : 0);
    }
    function nextBanner() {
      currentBanner = (currentBanner + 1) % banners.length;
      showBanner(currentBanner);
    }
    function prevBanner() {
      currentBanner = (currentBanner - 1 + banners.length) % banners.length;
      showBanner(currentBanner);
    }
    setInterval(nextBanner, 10000);
    showBanner(0);

    /* SCROLL TO BOX */
    function scrollToBox(id) {
      document.getElementById(id).scrollIntoView({ behavior: "smooth" });
    }

    /* LOGIN BUTTON LOGIC (PLACEHOLDER: replace with real auth) */
const API_BASE = "http://localhost:3000";
const navRight = document.getElementById("navRight");
const userId = localStorage.getItem("currentUserId");

async function renderNavbarAuth() {
  // ❌ ยังไม่ได้ login
  if (!userId) {
    navRight.innerHTML = `
      <a class="nav-item btn-right" href="SigninAndRegister.html">
        Sign in / Register
      </a>
    `;
    return;
  }

  // ✅ login แล้ว → ดึงชื่อจาก DB
  try {
    const res = await fetch(`${API_BASE}/users/info/${encodeURIComponent(userId)}`);
    const json = await res.json();

    if (!json.success) throw new Error("load user failed");

    const name = json.data?.name || "-";
    const image = json.data?.profile_image || "images/profile_example.jpg";

    navRight.innerHTML = `
      <a class="nav-item btn-right" href="Profile.html">
        <img src="${image}" class="profile-pic">
        Profile : ${name}
      </a>
    `;
  } catch (err) {
    console.error(err);

    // fallback → ให้กลับไป login
    navRight.innerHTML = `
      <a class="nav-item btn-right" href="SigninAndRegister.html">
        Sign in / Register
      </a>
    `;
  }
}

  function openImagePopup() {
    document.getElementById("imagePopup").style.display = "flex";
    document.body.style.overflow = "hidden"; // กัน scroll หน้าเว็บ
  }

  function closeImagePopup() {
    document.getElementById("imagePopup").style.display = "none";
    document.body.style.overflow = "";
  }

const zoomBox = document.getElementById("popupZoomBox");
const zoomCircle = document.getElementById("zoomCircle");
const zoomImg = document.getElementById("popupImage");

const ZOOM_LEVEL = 2.5;

zoomBox.addEventListener("mousemove", (e) => {
  const rect = zoomBox.getBoundingClientRect();

  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;

  // แสดงวงกลม
  zoomCircle.style.opacity = 1;
  zoomCircle.style.left = x - zoomCircle.offsetWidth / 2 + "px";
  zoomCircle.style.top = y - zoomCircle.offsetHeight / 2 + "px";

  // ขนาดรูปที่ถูก zoom
  const bgWidth = zoomImg.offsetWidth * ZOOM_LEVEL;
  const bgHeight = zoomImg.offsetHeight * ZOOM_LEVEL;

  // คำนวณตำแหน่ง background (สำคัญ!)
  const bgX = -(x * ZOOM_LEVEL - zoomCircle.offsetWidth / 2);
  const bgY = -(y * ZOOM_LEVEL - zoomCircle.offsetHeight / 2);

  zoomCircle.style.backgroundImage = `url(${zoomImg.src})`;
  zoomCircle.style.backgroundSize = `${bgWidth}px ${bgHeight}px`;
  zoomCircle.style.backgroundPosition = `${bgX}px ${bgY}px`;
});

zoomBox.addEventListener("mouseleave", () => {
  zoomCircle.style.opacity = 0;
});

document.querySelectorAll(".rules-zoom-box").forEach(box => {
  const img = box.querySelector("img");
  const circle = box.querySelector(".rules-zoom-circle");
  const ZOOM = 2.2;

  box.addEventListener("mousemove", e => {
    const rect = box.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;

    circle.style.opacity = 1;
    circle.style.left = x - circle.offsetWidth / 2 + "px";
    circle.style.top = y - circle.offsetHeight / 2 + "px";

    const bgX = -(x * ZOOM - circle.offsetWidth / 2);
    const bgY = -(y * ZOOM - circle.offsetHeight / 2);

    circle.style.backgroundImage = `url(${img.src})`;
    circle.style.backgroundSize =
      img.offsetWidth * ZOOM + "px " +
      img.offsetHeight * ZOOM + "px";
    circle.style.backgroundPosition = `${bgX}px ${bgY}px`;
  });

  box.addEventListener("mouseleave", () => {
    circle.style.opacity = 0;
  });
});
renderNavbarAuth();
  </script>

</body>
</html>
